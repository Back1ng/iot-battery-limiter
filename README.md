# iot-battery-limiter
Ограничь зарядку на своём ноутбуке!

Что понадобится для запуска:<br>
 - Умная розетка яндекс (тестировалось на YNDX-0007W)
 - Аккаунт яндекса с привязанной розеткой

Установка:
  <b>(Примечание - конфигурация находится в файле .env, который лежит вместе с файлом запуска, чтобы заново настроить, можете удалить его и перезапустить программу)</b><br>
  Запускаем программу, она будет задавать вопросы для корректной работы:
  1. Указать количество максимального процента заряда (Напр.: 70)
  2. Указать количество минимального процента заряда (Напр.: 50)
  3. Приложение попросит подтверждение открыть браузер. В нем надо будет авторизоваться и разрешить доступ. После чего появится токен, который надо будет ввести в консоль.
  4. После начальной инициализации, надо будет выбрать устройство, которое будет подвергаться включению и выключению. Выбираем розетку (Слева будет нумерация, нужно написать её номер, напр.: <b>0</b>)

После этого она будет автоматически, каждые 30 секунд проверять состояние батареи, и если её состояние будет выходить за пределы установленных вами рамок - выполнять соответствующее действие.

TODO:<br>
  [o] - maybe another way to get OAuth token<br>
  [o] - move requests to internal<br>
  [o] - unmarshall and validate responses on success<br>
